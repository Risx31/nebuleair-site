<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>NebuleAir ‚Äì Dashboard</title>

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">

    <!-- Chart.js (version stable) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Adapter dates -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0"></script>

    <!-- Aucun plugin zoom pour √©viter les erreurs MIME -->
    
    <!-- Scripts internes -->
    <script src="assets/js/common.js" defer></script>
    <script src="assets/js/api.js" defer></script>
    <script src="assets/js/dashboard.js" defer></script>
</head>

<body class="light">

    <header class="topbar">
        <a href="index.html" class="back-btn">‚Üê Retour</a>
        <div class="logo">Dashboard</div>
        <button id="themeToggle" class="theme-btn">üåô</button>
    </header>

    <main class="dashboard-container">

        <!-- Valeurs LIVE -->
        <section class="live-values">
            <div class="value-box">
                <span class="label">PM1</span>
                <span id="livePM1" class="value">--</span>
            </div>
            <div class="value-box">
                <span class="label">PM2.5</span>
                <span id="livePM25" class="value">--</span>
            </div>
            <div class="value-box">
                <span class="label">PM10</span>
                <span id="livePM10" class="value">--</span>
            </div>
            <div class="value-box">
                <span class="label">Temp√©rature</span>
                <span id="liveTemp" class="value">--</span>
            </div>
            <div class="value-box">
                <span class="label">Humidit√©</span>
                <span id="liveHum" class="value">--</span>
            </div>
        </section>

        <!-- S√©lection des courbes -->
        <section class="curve-select">
            <label><input type="checkbox" class="curve" value="pm1" checked> PM1</label>
            <label><input type="checkbox" class="curve" value="pm25" checked> PM2.5</label>
            <label><input type="checkbox" class="curve" value="pm10" checked> PM10</label>
            <label><input type="checkbox" class="curve" value="temperature" checked> Temp√©rature</label>
            <label><input type="checkbox" class="curve" value="humidite" checked> Humidit√©</label>
        </section>

        <!-- S√©lecteur p√©riode -->
        <section class="period-select">
            <button class="period-btn active" data-period="-1h">1h</button>
            <button class="period-btn" data-period="-6h">6h</button>
            <button class="period-btn" data-period="-24h">24h</button>
            <button class="period-btn" data-period="-7d">7j</button>
            <button class="period-btn" data-period="-30d">30j</button>

            <input type="date" id="customStart">
            <input type="date" id="customEnd">
            <button id="applyCustom">Appliquer</button>
        </section>

        <!-- Graphique -->
        <section class="chart-card">
            <canvas id="chart"></canvas>
        </section>

        <!-- Actions -->
        <section class="actions">
            <button id="resetZoom" class="action-btn">üîç R√©initialiser Zoom</button>
            <button id="exportCSV" class="action-btn">üìÑ Exporter CSV</button>
        </section>

    </main>

</body>
</html>
